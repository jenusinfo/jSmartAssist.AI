var Bt=Object.defineProperty;var Mt=(e,t,s)=>t in e?Bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Be=(e,t,s)=>Mt(e,typeof t!="symbol"?t+"":t,s);import{r as w,a as qt,N as de,u as me,L as z,B as $t,R as Ht,b as G,c as zt}from"./vendor-BqetGLob.js";import{M as B,C as Jt,B as Wt,W as Kt,F as Q,I as Me,P as Vt,S as Gt,G as Xt,a as ot,b as Qt,c as Yt,L as Zt,E as es,d as ts,U as qe,e as it,f as $e,g as ss,h as rs,i as lt,j as ns,X as as,k as ct,l as os,m as is,T as dt,n as ls,o as cs,A as ds}from"./icons-CmCvr_2y.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();var ut={exports:{}},he={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var us=w,ms=Symbol.for("react.element"),hs=Symbol.for("react.fragment"),fs=Object.prototype.hasOwnProperty,ps=us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xs={key:!0,ref:!0,__self:!0,__source:!0};function mt(e,t,s){var n,a={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)fs.call(t,n)&&!xs.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:ms,type:e,key:o,ref:i,props:a,_owner:ps.current}}he.Fragment=hs;he.jsx=mt;he.jsxs=mt;ut.exports=he;var r=ut.exports,Se={},He=qt;Se.createRoot=He.createRoot,Se.hydrateRoot=He.hydrateRoot;const ht=w.createContext(void 0),Y=()=>{const e=w.useContext(ht);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},gs=({children:e})=>{const[t,s]=w.useState(!1),[n,a]=w.useState(null);w.useEffect(()=>{const d=localStorage.getItem("authToken"),h=localStorage.getItem("userRole");d&&(s(!0),a(h))},[]);const o=(d,h)=>{localStorage.setItem("authToken",d),localStorage.setItem("userRole",h),s(!0),a(h)},i=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userRole"),s(!1),a(null)};return r.jsx(ht.Provider,{value:{isAuthenticated:t,userRole:n,login:o,logout:i},children:e})},ys=({children:e})=>{const{isAuthenticated:t}=Y();return t?e:r.jsx(de,{to:"/login",replace:!0})},bs=({children:e,allowedRoles:t})=>{const{isAuthenticated:s,userRole:n}=Y();return s?t.includes(n||"")?e:r.jsx(de,{to:"/unauthorized",replace:!0}):r.jsx(de,{to:"/login",replace:!0})},ws=()=>{const e=me(),t=[{name:"Procedures",icon:Wt,description:"Company procedures and workflows",color:"blue"},{name:"Operations",icon:Kt,description:"Operational guidelines",color:"green"},{name:"User Manuals",icon:Q,description:"Product user guides",color:"purple"},{name:"Products",icon:Me,description:"Product specifications",color:"orange"},{name:"Contacts",icon:Vt,description:"Contact directories",color:"red"},{name:"Policies",icon:Gt,description:"Company policies",color:"indigo"},{name:"Training",icon:Xt,description:"Training materials",color:"yellow"},{name:"Technical",icon:ot,description:"Technical documentation",color:"gray"}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-white",children:[r.jsx("header",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(B,{className:"h-8 w-8 text-teal-600"}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"jSmartAssist.AI"})]}),r.jsx(z,{to:"/login",className:"bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition-colors",children:"Login"})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:"AI-Powered Company Assistant"}),r.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Get instant answers about company procedures, policies, products, and more. Our AI assistant has access to all your company's knowledge base."}),r.jsxs(z,{to:"/login",className:"bg-teal-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-teal-700 transition-colors inline-flex items-center",children:[r.jsx(B,{className:"mr-2 h-5 w-5"}),"Start Chatting",r.jsx(Jt,{className:"ml-2 h-5 w-5"})]})]}),r.jsxs("div",{className:"mt-20",children:[r.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Knowledge Categories"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((s,n)=>{const a=s.icon;return r.jsxs("div",{onClick:()=>e("/login"),className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all p-6 cursor-pointer hover:-translate-y-1",children:[r.jsx("div",{className:`w-12 h-12 bg-${s.color}-100 rounded-lg flex items-center justify-center mb-4`,children:r.jsx(a,{className:`h-6 w-6 text-${s.color}-600`})}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:s.name}),r.jsx("p",{className:"text-sm text-gray-600",children:s.description})]},n)})})]}),r.jsxs("div",{className:"mt-20 bg-white rounded-2xl shadow-lg p-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"How It Works"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(B,{className:"h-8 w-8 text-green-600"})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Ask Anything"}),r.jsx("p",{className:"text-gray-600",children:"Type your question in natural language"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Q,{className:"h-8 w-8 text-blue-600"})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Smart Search"}),r.jsx("p",{className:"text-gray-600",children:"AI searches through all company documents"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Me,{className:"h-8 w-8 text-purple-600"})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Get Answers"}),r.jsx("p",{className:"text-gray-600",children:"Receive accurate, contextual answers"})]})]})]}),r.jsxs("div",{className:"mt-20 text-center bg-gradient-to-r from-teal-600 to-blue-600 rounded-2xl p-12 text-white",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Get Started?"}),r.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Start chatting with our AI assistant and get instant access to your company's knowledge base."}),r.jsxs(z,{to:"/login",className:"inline-flex items-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-teal-600 bg-white hover:bg-gray-50 transition-colors",children:[r.jsx(B,{className:"h-5 w-5 mr-2"}),"Start Chatting Now"]})]})]})]})};function ft(e,t){return function(){return e.apply(t,arguments)}}const{toString:js}=Object.prototype,{getPrototypeOf:Te}=Object,{iterator:fe,toStringTag:pt}=Symbol,pe=(e=>t=>{const s=js.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),k=e=>(e=e.toLowerCase(),t=>pe(t)===e),xe=e=>t=>typeof t===e,{isArray:W}=Array,J=xe("undefined");function Z(e){return e!==null&&!J(e)&&e.constructor!==null&&!J(e.constructor)&&R(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xt=k("ArrayBuffer");function Ns(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xt(e.buffer),t}const vs=xe("string"),R=xe("function"),gt=xe("number"),ee=e=>e!==null&&typeof e=="object",Ss=e=>e===!0||e===!1,ie=e=>{if(pe(e)!=="object")return!1;const t=Te(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(pt in e)&&!(fe in e)},Es=e=>{if(!ee(e)||Z(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Rs=k("Date"),As=k("File"),Cs=k("Blob"),Os=k("FileList"),Ts=e=>ee(e)&&R(e.pipe),ks=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||R(e.append)&&((t=pe(e))==="formdata"||t==="object"&&R(e.toString)&&e.toString()==="[object FormData]"))},Ps=k("URLSearchParams"),[Ds,Fs,Ls,Us]=["ReadableStream","Request","Response","Headers"].map(k),_s=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function te(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),W(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Z(e))return;const o=s?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let d;for(n=0;n<i;n++)d=o[n],t.call(null,e[d],d,e)}}function yt(e,t){if(Z(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,a;for(;n-- >0;)if(a=s[n],t===a.toLowerCase())return a;return null}const M=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bt=e=>!J(e)&&e!==M;function Ee(){const{caseless:e,skipUndefined:t}=bt(this)&&this||{},s={},n=(a,o)=>{const i=e&&yt(s,o)||o;ie(s[i])&&ie(a)?s[i]=Ee(s[i],a):ie(a)?s[i]=Ee({},a):W(a)?s[i]=a.slice():(!t||!J(a))&&(s[i]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&te(arguments[a],n);return s}const Is=(e,t,s,{allOwnKeys:n}={})=>(te(t,(a,o)=>{s&&R(a)?e[o]=ft(a,s):e[o]=a},{allOwnKeys:n}),e),Bs=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ms=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},qs=(e,t,s,n)=>{let a,o,i;const d={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!n||n(i,e,t))&&!d[i]&&(t[i]=e[i],d[i]=!0);e=s!==!1&&Te(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},$s=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},Hs=e=>{if(!e)return null;if(W(e))return e;let t=e.length;if(!gt(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},zs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Te(Uint8Array)),Js=(e,t)=>{const n=(e&&e[fe]).call(e);let a;for(;(a=n.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},Ws=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Ks=k("HTMLFormElement"),Vs=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,a){return n.toUpperCase()+a}),ze=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Gs=k("RegExp"),wt=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};te(s,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(n[o]=i||a)}),Object.defineProperties(e,n)},Xs=e=>{wt(e,(t,s)=>{if(R(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(R(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Qs=(e,t)=>{const s={},n=a=>{a.forEach(o=>{s[o]=!0})};return W(e)?n(e):n(String(e).split(t)),s},Ys=()=>{},Zs=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function er(e){return!!(e&&R(e.append)&&e[pt]==="FormData"&&e[fe])}const tr=e=>{const t=new Array(10),s=(n,a)=>{if(ee(n)){if(t.indexOf(n)>=0)return;if(Z(n))return n;if(!("toJSON"in n)){t[a]=n;const o=W(n)?[]:{};return te(n,(i,d)=>{const h=s(i,a+1);!J(h)&&(o[d]=h)}),t[a]=void 0,o}}return n};return s(e,0)},sr=k("AsyncFunction"),rr=e=>e&&(ee(e)||R(e))&&R(e.then)&&R(e.catch),jt=((e,t)=>e?setImmediate:t?((s,n)=>(M.addEventListener("message",({source:a,data:o})=>{a===M&&o===s&&n.length&&n.shift()()},!1),a=>{n.push(a),M.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",R(M.postMessage)),nr=typeof queueMicrotask<"u"?queueMicrotask.bind(M):typeof process<"u"&&process.nextTick||jt,ar=e=>e!=null&&R(e[fe]),c={isArray:W,isArrayBuffer:xt,isBuffer:Z,isFormData:ks,isArrayBufferView:Ns,isString:vs,isNumber:gt,isBoolean:Ss,isObject:ee,isPlainObject:ie,isEmptyObject:Es,isReadableStream:Ds,isRequest:Fs,isResponse:Ls,isHeaders:Us,isUndefined:J,isDate:Rs,isFile:As,isBlob:Cs,isRegExp:Gs,isFunction:R,isStream:Ts,isURLSearchParams:Ps,isTypedArray:zs,isFileList:Os,forEach:te,merge:Ee,extend:Is,trim:_s,stripBOM:Bs,inherits:Ms,toFlatObject:qs,kindOf:pe,kindOfTest:k,endsWith:$s,toArray:Hs,forEachEntry:Js,matchAll:Ws,isHTMLForm:Ks,hasOwnProperty:ze,hasOwnProp:ze,reduceDescriptors:wt,freezeMethods:Xs,toObjectSet:Qs,toCamelCase:Vs,noop:Ys,toFiniteNumber:Zs,findKey:yt,global:M,isContextDefined:bt,isSpecCompliantForm:er,toJSONObject:tr,isAsyncFn:sr,isThenable:rr,setImmediate:jt,asap:nr,isIterable:ar};function b(e,t,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}c.inherits(b,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:c.toJSONObject(this.config),code:this.code,status:this.status}}});const Nt=b.prototype,vt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vt[e]={value:e}});Object.defineProperties(b,vt);Object.defineProperty(Nt,"isAxiosError",{value:!0});b.from=(e,t,s,n,a,o)=>{const i=Object.create(Nt);c.toFlatObject(e,i,function(u){return u!==Error.prototype},m=>m!=="isAxiosError");const d=e&&e.message?e.message:"Error",h=t==null&&e?e.code:t;return b.call(i,d,h,s,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const or=null;function Re(e){return c.isPlainObject(e)||c.isArray(e)}function St(e){return c.endsWith(e,"[]")?e.slice(0,-2):e}function Je(e,t,s){return e?e.concat(t).map(function(a,o){return a=St(a),!s&&o?"["+a+"]":a}).join(s?".":""):t}function ir(e){return c.isArray(e)&&!e.some(Re)}const lr=c.toFlatObject(c,{},null,function(t){return/^is[A-Z]/.test(t)});function ge(e,t,s){if(!c.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=c.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,x){return!c.isUndefined(x[f])});const n=s.metaTokens,a=s.visitor||u,o=s.dots,i=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&c.isSpecCompliantForm(t);if(!c.isFunction(a))throw new TypeError("visitor must be a function");function m(l){if(l===null)return"";if(c.isDate(l))return l.toISOString();if(c.isBoolean(l))return l.toString();if(!h&&c.isBlob(l))throw new b("Blob is not supported. Use a Buffer instead.");return c.isArrayBuffer(l)||c.isTypedArray(l)?h&&typeof Blob=="function"?new Blob([l]):Buffer.from(l):l}function u(l,f,x){let j=l;if(l&&!x&&typeof l=="object"){if(c.endsWith(f,"{}"))f=n?f:f.slice(0,-2),l=JSON.stringify(l);else if(c.isArray(l)&&ir(l)||(c.isFileList(l)||c.endsWith(f,"[]"))&&(j=c.toArray(l)))return f=St(f),j.forEach(function(v,E){!(c.isUndefined(v)||v===null)&&t.append(i===!0?Je([f],E,o):i===null?f:f+"[]",m(v))}),!1}return Re(l)?!0:(t.append(Je(x,f,o),m(l)),!1)}const p=[],y=Object.assign(lr,{defaultVisitor:u,convertValue:m,isVisitable:Re});function g(l,f){if(!c.isUndefined(l)){if(p.indexOf(l)!==-1)throw Error("Circular reference detected in "+f.join("."));p.push(l),c.forEach(l,function(j,C){(!(c.isUndefined(j)||j===null)&&a.call(t,j,c.isString(C)?C.trim():C,f,y))===!0&&g(j,f?f.concat(C):[C])}),p.pop()}}if(!c.isObject(e))throw new TypeError("data must be an object");return g(e),t}function We(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ke(e,t){this._pairs=[],e&&ge(e,this,t)}const Et=ke.prototype;Et.append=function(t,s){this._pairs.push([t,s])};Et.toString=function(t){const s=t?function(n){return t.call(this,n,We)}:We;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function cr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Rt(e,t,s){if(!t)return e;const n=s&&s.encode||cr;c.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let o;if(a?o=a(t,s):o=c.isURLSearchParams(t)?t.toString():new ke(t,s).toString(n),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Ke{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){c.forEach(this.handlers,function(n){n!==null&&t(n)})}}const At={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dr=typeof URLSearchParams<"u"?URLSearchParams:ke,ur=typeof FormData<"u"?FormData:null,mr=typeof Blob<"u"?Blob:null,hr={isBrowser:!0,classes:{URLSearchParams:dr,FormData:ur,Blob:mr},protocols:["http","https","file","blob","url","data"]},Pe=typeof window<"u"&&typeof document<"u",Ae=typeof navigator=="object"&&navigator||void 0,fr=Pe&&(!Ae||["ReactNative","NativeScript","NS"].indexOf(Ae.product)<0),pr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xr=Pe&&window.location.href||"http://localhost",gr=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pe,hasStandardBrowserEnv:fr,hasStandardBrowserWebWorkerEnv:pr,navigator:Ae,origin:xr},Symbol.toStringTag,{value:"Module"})),S={...gr,...hr};function yr(e,t){return ge(e,new S.classes.URLSearchParams,{visitor:function(s,n,a,o){return S.isNode&&c.isBuffer(s)?(this.append(n,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function br(e){return c.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function wr(e){const t={},s=Object.keys(e);let n;const a=s.length;let o;for(n=0;n<a;n++)o=s[n],t[o]=e[o];return t}function Ct(e){function t(s,n,a,o){let i=s[o++];if(i==="__proto__")return!0;const d=Number.isFinite(+i),h=o>=s.length;return i=!i&&c.isArray(a)?a.length:i,h?(c.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!d):((!a[i]||!c.isObject(a[i]))&&(a[i]=[]),t(s,n,a[i],o)&&c.isArray(a[i])&&(a[i]=wr(a[i])),!d)}if(c.isFormData(e)&&c.isFunction(e.entries)){const s={};return c.forEachEntry(e,(n,a)=>{t(br(n),a,s,0)}),s}return null}function jr(e,t,s){if(c.isString(e))try{return(t||JSON.parse)(e),c.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const se={transitional:At,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",a=n.indexOf("application/json")>-1,o=c.isObject(t);if(o&&c.isHTMLForm(t)&&(t=new FormData(t)),c.isFormData(t))return a?JSON.stringify(Ct(t)):t;if(c.isArrayBuffer(t)||c.isBuffer(t)||c.isStream(t)||c.isFile(t)||c.isBlob(t)||c.isReadableStream(t))return t;if(c.isArrayBufferView(t))return t.buffer;if(c.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return yr(t,this.formSerializer).toString();if((d=c.isFileList(t))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return ge(d?{"files[]":t}:t,h&&new h,this.formSerializer)}}return o||a?(s.setContentType("application/json",!1),jr(t)):t}],transformResponse:[function(t){const s=this.transitional||se.transitional,n=s&&s.forcedJSONParsing,a=this.responseType==="json";if(c.isResponse(t)||c.isReadableStream(t))return t;if(t&&c.isString(t)&&(n&&!this.responseType||a)){const i=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(d){if(i)throw d.name==="SyntaxError"?b.from(d,b.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:S.classes.FormData,Blob:S.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};c.forEach(["delete","get","head","post","put","patch"],e=>{se.headers[e]={}});const Nr=c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vr=e=>{const t={};let s,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),s=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!s||t[s]&&Nr[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},Ve=Symbol("internals");function X(e){return e&&String(e).trim().toLowerCase()}function le(e){return e===!1||e==null?e:c.isArray(e)?e.map(le):String(e)}function Sr(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const Er=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function je(e,t,s,n,a){if(c.isFunction(n))return n.call(this,t,s);if(a&&(t=s),!!c.isString(t)){if(c.isString(n))return t.indexOf(n)!==-1;if(c.isRegExp(n))return n.test(t)}}function Rr(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function Ar(e,t){const s=c.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(a,o,i){return this[n].call(this,t,a,o,i)},configurable:!0})})}let A=class{constructor(t){t&&this.set(t)}set(t,s,n){const a=this;function o(d,h,m){const u=X(h);if(!u)throw new Error("header name must be a non-empty string");const p=c.findKey(a,u);(!p||a[p]===void 0||m===!0||m===void 0&&a[p]!==!1)&&(a[p||h]=le(d))}const i=(d,h)=>c.forEach(d,(m,u)=>o(m,u,h));if(c.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(c.isString(t)&&(t=t.trim())&&!Er(t))i(vr(t),s);else if(c.isObject(t)&&c.isIterable(t)){let d={},h,m;for(const u of t){if(!c.isArray(u))throw TypeError("Object iterator must return a key-value pair");d[m=u[0]]=(h=d[m])?c.isArray(h)?[...h,u[1]]:[h,u[1]]:u[1]}i(d,s)}else t!=null&&o(s,t,n);return this}get(t,s){if(t=X(t),t){const n=c.findKey(this,t);if(n){const a=this[n];if(!s)return a;if(s===!0)return Sr(a);if(c.isFunction(s))return s.call(this,a,n);if(c.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=X(t),t){const n=c.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||je(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let a=!1;function o(i){if(i=X(i),i){const d=c.findKey(n,i);d&&(!s||je(n,n[d],d,s))&&(delete n[d],a=!0)}}return c.isArray(t)?t.forEach(o):o(t),a}clear(t){const s=Object.keys(this);let n=s.length,a=!1;for(;n--;){const o=s[n];(!t||je(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const s=this,n={};return c.forEach(this,(a,o)=>{const i=c.findKey(n,o);if(i){s[i]=le(a),delete s[o];return}const d=t?Rr(o):String(o).trim();d!==o&&delete s[o],s[d]=le(a),n[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return c.forEach(this,(n,a)=>{n!=null&&n!==!1&&(s[a]=t&&c.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Ve]=this[Ve]={accessors:{}}).accessors,a=this.prototype;function o(i){const d=X(i);n[d]||(Ar(a,i),n[d]=!0)}return c.isArray(t)?t.forEach(o):o(t),this}};A.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);c.reduceDescriptors(A.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});c.freezeMethods(A);function Ne(e,t){const s=this||se,n=t||s,a=A.from(n.headers);let o=n.data;return c.forEach(e,function(d){o=d.call(s,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function Ot(e){return!!(e&&e.__CANCEL__)}function K(e,t,s){b.call(this,e??"canceled",b.ERR_CANCELED,t,s),this.name="CanceledError"}c.inherits(K,b,{__CANCEL__:!0});function Tt(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new b("Request failed with status code "+s.status,[b.ERR_BAD_REQUEST,b.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Cr(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Or(e,t){e=e||10;const s=new Array(e),n=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(h){const m=Date.now(),u=n[o];i||(i=m),s[a]=h,n[a]=m;let p=o,y=0;for(;p!==a;)y+=s[p++],p=p%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),m-i<t)return;const g=u&&m-u;return g?Math.round(y*1e3/g):void 0}}function Tr(e,t){let s=0,n=1e3/t,a,o;const i=(m,u=Date.now())=>{s=u,a=null,o&&(clearTimeout(o),o=null),e(...m)};return[(...m)=>{const u=Date.now(),p=u-s;p>=n?i(m,u):(a=m,o||(o=setTimeout(()=>{o=null,i(a)},n-p)))},()=>a&&i(a)]}const ue=(e,t,s=3)=>{let n=0;const a=Or(50,250);return Tr(o=>{const i=o.loaded,d=o.lengthComputable?o.total:void 0,h=i-n,m=a(h),u=i<=d;n=i;const p={loaded:i,total:d,progress:d?i/d:void 0,bytes:h,rate:m||void 0,estimated:m&&d&&u?(d-i)/m:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(p)},s)},Ge=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},Xe=e=>(...t)=>c.asap(()=>e(...t)),kr=S.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,S.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(S.origin),S.navigator&&/(msie|trident)/i.test(S.navigator.userAgent)):()=>!0,Pr=S.hasStandardBrowserEnv?{write(e,t,s,n,a,o){const i=[e+"="+encodeURIComponent(t)];c.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),c.isString(n)&&i.push("path="+n),c.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Dr(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Fr(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function kt(e,t,s){let n=!Dr(t);return e&&(n||s==!1)?Fr(e,t):t}const Qe=e=>e instanceof A?{...e}:e;function $(e,t){t=t||{};const s={};function n(m,u,p,y){return c.isPlainObject(m)&&c.isPlainObject(u)?c.merge.call({caseless:y},m,u):c.isPlainObject(u)?c.merge({},u):c.isArray(u)?u.slice():u}function a(m,u,p,y){if(c.isUndefined(u)){if(!c.isUndefined(m))return n(void 0,m,p,y)}else return n(m,u,p,y)}function o(m,u){if(!c.isUndefined(u))return n(void 0,u)}function i(m,u){if(c.isUndefined(u)){if(!c.isUndefined(m))return n(void 0,m)}else return n(void 0,u)}function d(m,u,p){if(p in t)return n(m,u);if(p in e)return n(void 0,m)}const h={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:d,headers:(m,u,p)=>a(Qe(m),Qe(u),p,!0)};return c.forEach(Object.keys({...e,...t}),function(u){const p=h[u]||a,y=p(e[u],t[u],u);c.isUndefined(y)&&p!==d||(s[u]=y)}),s}const Pt=e=>{const t=$({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:d}=t;if(t.headers=i=A.from(i),t.url=Rt(kt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&i.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),c.isFormData(s)){if(S.hasStandardBrowserEnv||S.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(c.isFunction(s.getHeaders)){const h=s.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([u,p])=>{m.includes(u.toLowerCase())&&i.set(u,p)})}}if(S.hasStandardBrowserEnv&&(n&&c.isFunction(n)&&(n=n(t)),n||n!==!1&&kr(t.url))){const h=a&&o&&Pr.read(o);h&&i.set(a,h)}return t},Lr=typeof XMLHttpRequest<"u",Ur=Lr&&function(e){return new Promise(function(s,n){const a=Pt(e);let o=a.data;const i=A.from(a.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:m}=a,u,p,y,g,l;function f(){g&&g(),l&&l(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function j(){if(!x)return;const v=A.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),T={data:!d||d==="text"||d==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:v,config:e,request:x};Tt(function(O){s(O),f()},function(O){n(O),f()},T),x=null}"onloadend"in x?x.onloadend=j:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(j)},x.onabort=function(){x&&(n(new b("Request aborted",b.ECONNABORTED,e,x)),x=null)},x.onerror=function(E){const T=E&&E.message?E.message:"Network Error",_=new b(T,b.ERR_NETWORK,e,x);_.event=E||null,n(_),x=null},x.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const T=a.transitional||At;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),n(new b(E,T.clarifyTimeoutError?b.ETIMEDOUT:b.ECONNABORTED,e,x)),x=null},o===void 0&&i.setContentType(null),"setRequestHeader"in x&&c.forEach(i.toJSON(),function(E,T){x.setRequestHeader(T,E)}),c.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),d&&d!=="json"&&(x.responseType=a.responseType),m&&([y,l]=ue(m,!0),x.addEventListener("progress",y)),h&&x.upload&&([p,g]=ue(h),x.upload.addEventListener("progress",p),x.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(u=v=>{x&&(n(!v||v.type?new K(null,e,x):v),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const C=Cr(a.url);if(C&&S.protocols.indexOf(C)===-1){n(new b("Unsupported protocol "+C+":",b.ERR_BAD_REQUEST,e));return}x.send(o||null)})},_r=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,a;const o=function(m){if(!a){a=!0,d();const u=m instanceof Error?m:this.reason;n.abort(u instanceof b?u:new K(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,o(new b(`timeout ${t} of ms exceeded`,b.ETIMEDOUT))},t);const d=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),e=null)};e.forEach(m=>m.addEventListener("abort",o));const{signal:h}=n;return h.unsubscribe=()=>c.asap(d),h}},Ir=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,a;for(;n<s;)a=n+t,yield e.slice(n,a),n=a},Br=async function*(e,t){for await(const s of Mr(e))yield*Ir(s,t)},Mr=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Ye=(e,t,s,n)=>{const a=Br(e,t);let o=0,i,d=h=>{i||(i=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:m,value:u}=await a.next();if(m){d(),h.close();return}let p=u.byteLength;if(s){let y=o+=p;s(y)}h.enqueue(new Uint8Array(u))}catch(m){throw d(m),m}},cancel(h){return d(h),a.return()}},{highWaterMark:2})},Ze=64*1024,{isFunction:oe}=c,qr=(({Request:e,Response:t})=>({Request:e,Response:t}))(c.global),{ReadableStream:et,TextEncoder:tt}=c.global,st=(e,...t)=>{try{return!!e(...t)}catch{return!1}},$r=e=>{e=c.merge.call({skipUndefined:!0},qr,e);const{fetch:t,Request:s,Response:n}=e,a=t?oe(t):typeof fetch=="function",o=oe(s),i=oe(n);if(!a)return!1;const d=a&&oe(et),h=a&&(typeof tt=="function"?(l=>f=>l.encode(f))(new tt):async l=>new Uint8Array(await new s(l).arrayBuffer())),m=o&&d&&st(()=>{let l=!1;const f=new s(S.origin,{body:new et,method:"POST",get duplex(){return l=!0,"half"}}).headers.has("Content-Type");return l&&!f}),u=i&&d&&st(()=>c.isReadableStream(new n("").body)),p={stream:u&&(l=>l.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(l=>{!p[l]&&(p[l]=(f,x)=>{let j=f&&f[l];if(j)return j.call(f);throw new b(`Response type '${l}' is not supported`,b.ERR_NOT_SUPPORT,x)})});const y=async l=>{if(l==null)return 0;if(c.isBlob(l))return l.size;if(c.isSpecCompliantForm(l))return(await new s(S.origin,{method:"POST",body:l}).arrayBuffer()).byteLength;if(c.isArrayBufferView(l)||c.isArrayBuffer(l))return l.byteLength;if(c.isURLSearchParams(l)&&(l=l+""),c.isString(l))return(await h(l)).byteLength},g=async(l,f)=>{const x=c.toFiniteNumber(l.getContentLength());return x??y(f)};return async l=>{let{url:f,method:x,data:j,signal:C,cancelToken:v,timeout:E,onDownloadProgress:T,onUploadProgress:_,responseType:O,headers:be,withCredentials:re="same-origin",fetchOptions:De}=Pt(l),Fe=t||fetch;O=O?(O+"").toLowerCase():"text";let ne=_r([C,v&&v.toAbortSignal()],E),V=null;const I=ne&&ne.unsubscribe&&(()=>{ne.unsubscribe()});let Le;try{if(_&&m&&x!=="get"&&x!=="head"&&(Le=await g(be,j))!==0){let U=new s(f,{method:"POST",body:j,duplex:"half"}),H;if(c.isFormData(j)&&(H=U.headers.get("content-type"))&&be.setContentType(H),U.body){const[we,ae]=Ge(Le,ue(Xe(_)));j=Ye(U.body,Ze,we,ae)}}c.isString(re)||(re=re?"include":"omit");const P=o&&"credentials"in s.prototype,Ue={...De,signal:ne,method:x.toUpperCase(),headers:be.normalize().toJSON(),body:j,duplex:"half",credentials:P?re:void 0};V=o&&new s(f,Ue);let L=await(o?Fe(V,De):Fe(f,Ue));const _e=u&&(O==="stream"||O==="response");if(u&&(T||_e&&I)){const U={};["status","statusText","headers"].forEach(Ie=>{U[Ie]=L[Ie]});const H=c.toFiniteNumber(L.headers.get("content-length")),[we,ae]=T&&Ge(H,ue(Xe(T),!0))||[];L=new n(Ye(L.body,Ze,we,()=>{ae&&ae(),I&&I()}),U)}O=O||"text";let It=await p[c.findKey(p,O)||"text"](L,l);return!_e&&I&&I(),await new Promise((U,H)=>{Tt(U,H,{data:It,headers:A.from(L.headers),status:L.status,statusText:L.statusText,config:l,request:V})})}catch(P){throw I&&I(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new b("Network Error",b.ERR_NETWORK,l,V),{cause:P.cause||P}):b.from(P,P&&P.code,l,V)}}},Hr=new Map,Dt=e=>{let t=e?e.env:{};const{fetch:s,Request:n,Response:a}=t,o=[n,a,s];let i=o.length,d=i,h,m,u=Hr;for(;d--;)h=o[d],m=u.get(h),m===void 0&&u.set(h,m=d?new Map:$r(t)),u=m;return m};Dt();const Ce={http:or,xhr:Ur,fetch:{get:Dt}};c.forEach(Ce,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rt=e=>`- ${e}`,zr=e=>c.isFunction(e)||e===null||e===!1,Ft={getAdapter:(e,t)=>{e=c.isArray(e)?e:[e];const{length:s}=e;let n,a;const o={};for(let i=0;i<s;i++){n=e[i];let d;if(a=n,!zr(n)&&(a=Ce[(d=String(n)).toLowerCase()],a===void 0))throw new b(`Unknown adapter '${d}'`);if(a&&(c.isFunction(a)||(a=a.get(t))))break;o[d||"#"+i]=a}if(!a){const i=Object.entries(o).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=s?i.length>1?`since :
`+i.map(rt).join(`
`):" "+rt(i[0]):"as no adapter specified";throw new b("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return a},adapters:Ce};function ve(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new K(null,e)}function nt(e){return ve(e),e.headers=A.from(e.headers),e.data=Ne.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ft.getAdapter(e.adapter||se.adapter,e)(e).then(function(n){return ve(e),n.data=Ne.call(e,e.transformResponse,n),n.headers=A.from(n.headers),n},function(n){return Ot(n)||(ve(e),n&&n.response&&(n.response.data=Ne.call(e,e.transformResponse,n.response),n.response.headers=A.from(n.response.headers))),Promise.reject(n)})}const Lt="1.12.2",ye={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ye[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const at={};ye.transitional=function(t,s,n){function a(o,i){return"[Axios v"+Lt+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,d)=>{if(t===!1)throw new b(a(i," has been removed"+(s?" in "+s:"")),b.ERR_DEPRECATED);return s&&!at[i]&&(at[i]=!0,console.warn(a(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,i,d):!0}};ye.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Jr(e,t,s){if(typeof e!="object")throw new b("options must be an object",b.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const o=n[a],i=t[o];if(i){const d=e[o],h=d===void 0||i(d,o,e);if(h!==!0)throw new b("option "+o+" must be "+h,b.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new b("Unknown option "+o,b.ERR_BAD_OPTION)}}const ce={assertOptions:Jr,validators:ye},D=ce.validators;let q=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ke,response:new Ke}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=$(this.defaults,s);const{transitional:n,paramsSerializer:a,headers:o}=s;n!==void 0&&ce.assertOptions(n,{silentJSONParsing:D.transitional(D.boolean),forcedJSONParsing:D.transitional(D.boolean),clarifyTimeoutError:D.transitional(D.boolean)},!1),a!=null&&(c.isFunction(a)?s.paramsSerializer={serialize:a}:ce.assertOptions(a,{encode:D.function,serialize:D.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),ce.assertOptions(s,{baseUrl:D.spelling("baseURL"),withXsrfToken:D.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=o&&c.merge(o.common,o[s.method]);o&&c.forEach(["delete","get","head","post","put","patch","common"],l=>{delete o[l]}),s.headers=A.concat(i,o);const d=[];let h=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(s)===!1||(h=h&&f.synchronous,d.unshift(f.fulfilled,f.rejected))});const m=[];this.interceptors.response.forEach(function(f){m.push(f.fulfilled,f.rejected)});let u,p=0,y;if(!h){const l=[nt.bind(this),void 0];for(l.unshift(...d),l.push(...m),y=l.length,u=Promise.resolve(s);p<y;)u=u.then(l[p++],l[p++]);return u}y=d.length;let g=s;for(;p<y;){const l=d[p++],f=d[p++];try{g=l(g)}catch(x){f.call(this,x);break}}try{u=nt.call(this,g)}catch(l){return Promise.reject(l)}for(p=0,y=m.length;p<y;)u=u.then(m[p++],m[p++]);return u}getUri(t){t=$(this.defaults,t);const s=kt(t.baseURL,t.url,t.allowAbsoluteUrls);return Rt(s,t.params,t.paramsSerializer)}};c.forEach(["delete","get","head","options"],function(t){q.prototype[t]=function(s,n){return this.request($(n||{},{method:t,url:s,data:(n||{}).data}))}});c.forEach(["post","put","patch"],function(t){function s(n){return function(o,i,d){return this.request($(d||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}q.prototype[t]=s(),q.prototype[t+"Form"]=s(!0)});let Wr=class Ut{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(d=>{n.subscribe(d),o=d}).then(a);return i.cancel=function(){n.unsubscribe(o)},i},t(function(o,i,d){n.reason||(n.reason=new K(o,i,d),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Ut(function(a){t=a}),cancel:t}}};function Kr(e){return function(s){return e.apply(null,s)}}function Vr(e){return c.isObject(e)&&e.isAxiosError===!0}const Oe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oe).forEach(([e,t])=>{Oe[t]=e});function _t(e){const t=new q(e),s=ft(q.prototype.request,t);return c.extend(s,q.prototype,t,{allOwnKeys:!0}),c.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return _t($(e,a))},s}const N=_t(se);N.Axios=q;N.CanceledError=K;N.CancelToken=Wr;N.isCancel=Ot;N.VERSION=Lt;N.toFormData=ge;N.AxiosError=b;N.Cancel=N.CanceledError;N.all=function(t){return Promise.all(t)};N.spread=Kr;N.isAxiosError=Vr;N.mergeConfig=$;N.AxiosHeaders=A;N.formToJSON=e=>Ct(c.isHTMLForm(e)?new FormData(e):e);N.getAdapter=Ft.getAdapter;N.HttpStatusCode=Oe;N.default=N;const{Axios:un,AxiosError:mn,CanceledError:hn,isCancel:fn,CancelToken:pn,VERSION:xn,all:gn,Cancel:yn,isAxiosError:bn,spread:wn,toFormData:jn,AxiosHeaders:Nn,HttpStatusCode:vn,formToJSON:Sn,getAdapter:En,mergeConfig:Rn}=N,Gr="https://localhost:7239/api";class Xr{constructor(){Be(this,"client");this.client=N.create({baseURL:Gr,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(t=>{const s=localStorage.getItem("authToken");return s&&(t.headers.Authorization=`Bearer ${s}`),t}),this.client.interceptors.response.use(t=>t,t=>{var s;return((s=t.response)==null?void 0:s.status)===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userRole"),window.location.href="/login"),Promise.reject(t)})}async login(t){return(await this.client.post("/auth/login",t)).data}async refreshToken(t){return(await this.client.post("/auth/refresh",{refreshToken:t})).data}async getCategories(){return(await this.client.get("/category")).data}async getCategory(t){return(await this.client.get(`/category/${t}`)).data}async createCategory(t){return(await this.client.post("/category",t)).data}async updateCategory(t,s){return(await this.client.put(`/category/${t}`,s)).data}async deleteCategory(t){return(await this.client.delete(`/category/${t}`)).data}async seedCategories(){return(await this.client.post("/category/seed-defaults")).data}async getDocuments(){return(await this.client.get("/document")).data}async getDocument(t){return(await this.client.get(`/document/${t}`)).data}async uploadDocument(t){return(await this.client.post("/document/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}async deleteDocument(t){return(await this.client.delete(`/document/${t}`)).data}async reprocessDocument(t){return(await this.client.post(`/document/${t}/reprocess`)).data}async getDocumentStats(){return(await this.client.get("/document/stats")).data}async sendChatMessage(t){return(await this.client.post("/chat/message",t)).data}async getChatHistory(t){return(await this.client.get(`/chat/session/${t}/history`)).data}}const F=new Xr,Qr=()=>{const e=me(),{login:t}=Y(),[s,n]=w.useState(""),[a,o]=w.useState(""),[i,d]=w.useState(!1),[h,m]=w.useState(!1),[u,p]=w.useState(""),y=async g=>{g.preventDefault(),m(!0),p("");try{const l=await F.login({username:s,password:a}),f=s.includes("admin")?"admin":"user";t(l.accessToken,f),l.refreshToken&&localStorage.setItem("refreshToken",l.refreshToken),e("/chat")}catch(l){p(l.message||"Invalid credentials. Try admin/Admin123!")}finally{m(!1)}};return r.jsxs("div",{className:"min-h-screen flex",children:[r.jsxs("div",{className:"hidden lg:flex flex-1 bg-gradient-to-br from-teal-400 via-teal-500 to-teal-600 flex-col justify-center px-12 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white rounded-full"}),r.jsx("div",{className:"absolute bottom-32 right-20 w-24 h-24 bg-white rounded-full"}),r.jsx("div",{className:"absolute top-1/2 right-1/3 w-16 h-16 bg-white rounded-full"})]}),r.jsx("div",{className:"relative z-10",children:r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"jSmartAssist.AI"}),r.jsx("h2",{className:"text-3xl font-light text-white mb-8",children:"Knowledge at Your Fingertips"}),r.jsx("p",{className:"text-lg text-white opacity-90 max-w-md",children:"Access your organization's entire knowledge base with AI-powered assistance. Upload documents, ask questions, and get instant, accurate answers."})]})})]}),r.jsx("div",{className:"flex-1 bg-white flex flex-col justify-center px-8 lg:px-12",children:r.jsxs("div",{className:"max-w-md mx-auto w-full",children:[r.jsxs(z,{to:"/",className:"mb-6 text-teal-600 hover:text-teal-700 inline-flex items-center",children:[r.jsx(Qt,{className:"h-4 w-4 mr-1"}),"Back to Home"]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(B,{className:"h-12 w-12 text-teal-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),r.jsx("p",{className:"text-gray-600",children:"Sign in to access your AI assistant"})]}),u&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:u}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"USERNAME OR EMAIL"}),r.jsxs("div",{className:"relative",children:[r.jsx(Yt,{className:"absolute left-3 top-3.5 text-gray-400 h-5 w-5"}),r.jsx("input",{type:"text",value:s,onChange:g=>n(g.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"admin or user@company.com",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"PASSWORD"}),r.jsxs("div",{className:"relative",children:[r.jsx(Zt,{className:"absolute left-3 top-3.5 text-gray-400 h-5 w-5"}),r.jsx("input",{type:i?"text":"password",value:a,onChange:g=>o(g.target.value),className:"w-full pl-10 pr-10 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"��������",required:!0}),r.jsx("button",{type:"button",onClick:()=>d(!i),className:"absolute right-3 top-3.5 text-gray-400 hover:text-gray-600",children:i?r.jsx(es,{className:"h-5 w-5"}):r.jsx(ts,{className:"h-5 w-5"})})]})]}),r.jsx("button",{type:"submit",disabled:h,className:"w-full bg-teal-600 text-white py-3 rounded-lg font-semibold hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Signing in...":"LOGIN"})]}),r.jsx("div",{className:"text-center mt-8",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Demo credentials: ",r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"admin / Admin123!"})]})})]})})]})},Yr=()=>{const{userRole:e,logout:t}=Y(),s=me(),[n,a]=w.useState([{id:1,type:"assistant",text:"Hello! I'm your AI assistant. I can help you find information about company procedures, policies, products, and more. What would you like to know?"}]),[o,i]=w.useState(""),[d,h]=w.useState(!1),m=w.useRef(null);w.useEffect(()=>{var g;(g=m.current)==null||g.scrollIntoView({behavior:"smooth"})},[n]);const u=async()=>{if(!o.trim()||d)return;const g={id:Date.now(),type:"user",text:o};a(l=>[...l,g]),i(""),h(!0);try{const l=await F.sendChatMessage({sessionId:"session-"+Date.now(),message:o,userId:localStorage.getItem("userId")||"anonymous",userName:localStorage.getItem("userName")||"User"}),f={id:Date.now()+1,type:"assistant",text:l.response||"I found relevant information for your query.",references:l.referencedDocuments};a(x=>[...x,f])}catch(l){console.error("Chat error:",l);const f={id:Date.now()+1,type:"assistant",text:"I apologize, but I encountered an error while processing your request. Please ensure the AI service is running (Ollama on port 11434) and try again."};a(x=>[...x,f])}finally{h(!1)}},p=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),u())},y=["What are the company policies?","How do I submit an expense report?","Tell me about safety procedures","What products do we offer?"];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(B,{className:"h-8 w-8 text-teal-600"}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"jSmartAssist.AI"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[e==="admin"&&r.jsxs(z,{to:"/admin",className:"text-gray-600 hover:text-gray-900 flex items-center px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-100",children:[r.jsx(ot,{className:"h-4 w-4 mr-1"}),"Admin Panel"]}),r.jsxs("div",{className:"text-gray-600 px-3 py-2 text-sm",children:[r.jsx(qe,{className:"h-4 w-4 inline mr-1"}),e==="admin"?"Admin":"User"]}),r.jsxs("button",{onClick:()=>{t(),s("/")},className:"text-red-600 hover:text-red-700 flex items-center px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-100",children:[r.jsx(it,{className:"h-4 w-4 mr-1"}),"Logout"]})]})]})})}),r.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",style:{height:"calc(100vh - 64px)"},children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg h-full flex flex-col",children:[r.jsxs("div",{className:"border-b border-gray-200 p-4 bg-gradient-to-r from-blue-50 to-white",children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"AI Assistant Chat"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ask me anything about your company's knowledge base"})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[n.map(g=>r.jsx("div",{className:`flex ${g.type==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`flex max-w-xs lg:max-w-md xl:max-w-2xl ${g.type==="user"?"flex-row-reverse":"flex-row"}`,children:[r.jsx("div",{className:`flex-shrink-0 ${g.type==="user"?"ml-3":"mr-3"}`,children:r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${g.type==="user"?"bg-blue-600":"bg-gray-600"}`,children:g.type==="user"?r.jsx(qe,{className:"h-5 w-5 text-white"}):r.jsx($e,{className:"h-5 w-5 text-white"})})}),r.jsxs("div",{className:`rounded-lg px-4 py-2 ${g.type==="user"?"bg-blue-600 text-white":"bg-white text-gray-900 shadow-sm border border-gray-200"}`,children:[r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:g.text}),g.references&&g.references.length>0&&r.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Referenced documents:"}),g.references.map((l,f)=>r.jsxs("div",{className:"text-xs bg-gray-50 rounded px-2 py-1 mt-1",children:["📄 ",l.title||l.fileName,l.category&&r.jsxs("span",{className:"ml-2 text-gray-400",children:["(",l.category,")"]})]},f))]})]})]})},g.id)),d&&r.jsx("div",{className:"flex justify-start",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center",children:r.jsx($e,{className:"h-5 w-5 text-white"})}),r.jsx("div",{className:"bg-white rounded-lg px-4 py-2 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),r.jsx("div",{ref:m})]}),n.length===1&&r.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Try asking:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((g,l)=>r.jsx("button",{onClick:()=>i(g),className:"text-xs bg-white border border-gray-300 rounded-full px-3 py-1 hover:bg-gray-100 transition-colors",children:g},l))})]}),r.jsxs("div",{className:"border-t border-gray-200 p-4 bg-white",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:o,onChange:g=>i(g.target.value),onKeyDown:p,placeholder:"Ask me anything about company procedures, policies, products...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:d}),r.jsx("button",{onClick:u,disabled:d||!o.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:r.jsx(ss,{className:"h-5 w-5"})})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Press Enter to send • Your data is processed securely on-premise"})]})]})})]})},Zr=({stats:e,documents:t,onRefresh:s})=>r.jsxs(r.Fragment,{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Dashboard"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-md bg-blue-100",children:r.jsx(Q,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Total Documents"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalDocuments})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-md bg-green-100",children:r.jsx(rs,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Processed"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.processedDocuments})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-md bg-yellow-100",children:r.jsx(lt,{className:"h-6 w-6 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Processing"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.pendingDocuments+e.processingDocuments})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-md bg-purple-100",children:r.jsx(ns,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Chunks"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalChunks})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Documents"})}),r.jsx("div",{className:"divide-y divide-gray-200",children:t.slice(0,5).map(n=>r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Q,{className:"h-5 w-5 text-gray-400 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.title}),r.jsx("p",{className:"text-sm text-gray-500",children:n.categoryName||"Uncategorized"})]})]}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n.processingStatus==="Processed"?"bg-green-100 text-green-800":n.processingStatus==="Failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:n.processingStatus})]})},n.id))})]})]}),en=({categories:e,onClose:t,onUpload:s})=>{const[n,a]=w.useState(null),[o,i]=w.useState(""),[d,h]=w.useState(""),[m,u]=w.useState(""),[p,y]=w.useState(!1),g=async()=>{if(!n||!o){alert("Please select a file and enter a title");return}y(!0);const l=new FormData;l.append("file",n),l.append("title",o),l.append("description",d),m&&l.append("categoryId",m);try{await s(l)}finally{y(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:r.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full m-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload Document"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(as,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File"}),r.jsxs("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[r.jsx(ct,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Drop your file here, or"," ",r.jsxs("label",{className:"text-blue-600 hover:text-blue-500 cursor-pointer",children:["browse",r.jsx("input",{type:"file",className:"hidden",onChange:l=>{var f;return a(((f=l.target.files)==null?void 0:f[0])||null)},accept:".pdf,.doc,.docx,.txt,.xls,.xlsx"})]})]}),n&&r.jsxs("div",{className:"mt-4 text-sm text-gray-700",children:["Selected: ",n.name]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),r.jsx("input",{type:"text",value:o,onChange:l=>i(l.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter document title"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:d,onChange:l=>h(l.target.value),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter document description"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsxs("select",{value:m,onChange:l=>u(l.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select a category"}),e.map(l=>r.jsx("option",{value:l.id.toString(),children:l.name},l.id))]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:p,children:"Cancel"}),r.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:p,children:p?"Uploading...":"Upload"})]})]})]})})},tn=({documents:e,categories:t,onRefresh:s})=>{const[n,a]=w.useState(!1),[o,i]=w.useState({category:"",status:"",search:""}),[d,h]=w.useState(!1),m=async l=>{if(window.confirm("Are you sure you want to delete this document?")){h(!0);try{await F.deleteDocument(l),s(),alert("Document deleted successfully!")}catch(f){console.error("Error deleting document:",f),alert("Failed to delete document")}h(!1)}},u=async l=>{h(!0);try{await F.reprocessDocument(l),s(),alert("Document reprocessing started!")}catch(f){console.error("Error reprocessing document:",f),alert("Failed to reprocess document")}h(!1)},p=async l=>{try{await F.uploadDocument(l),s(),a(!1),alert("Document uploaded successfully!")}catch(f){console.error("Error uploading document:",f),alert("Failed to upload document")}},y=e.filter(l=>!(o.category&&l.categoryName!==o.category||o.status&&l.processingStatus!==o.status||o.search&&!l.title.toLowerCase().includes(o.search.toLowerCase())&&!l.fileName.toLowerCase().includes(o.search.toLowerCase()))),g=l=>{if(!l)return"0 Bytes";const f=1024,x=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(l)/Math.log(f));return Math.round(l/Math.pow(f,j)*100)/100+" "+x[j]};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Document Management"}),r.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 inline-flex items-center",children:[r.jsx(ct,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(os,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search documents...",value:o.search,onChange:l=>i({...o,search:l.target.value}),className:"pl-10 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("select",{value:o.category,onChange:l=>i({...o,category:l.target.value}),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Categories"}),t.map(l=>r.jsx("option",{value:l.name,children:l.name},l.id))]}),r.jsxs("select",{value:o.status,onChange:l=>i({...o,status:l.target.value}),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"Processed",children:"Processed"}),r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Pending",children:"Pending"}),r.jsx("option",{value:"Failed",children:"Failed"})]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(is,{className:"h-4 w-4 mr-2"}),y.length," of ",e.length," documents"]})]})})}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Uploaded"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(l=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Q,{className:"h-5 w-5 text-gray-400 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.title}),r.jsx("div",{className:"text-sm text-gray-500",children:l.fileName}),l.description&&r.jsx("div",{className:"text-sm text-gray-500 mt-1",children:l.description})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:l.categoryName||"Uncategorized"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(l.fileSize)}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.processingStatus==="Processed"?"bg-green-100 text-green-800":l.processingStatus==="Failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[l.processingStatus,l.chunkCount&&l.chunkCount>0&&` (${l.chunkCount} chunks)`]}),l.processingError&&r.jsx("div",{className:"text-xs text-red-600 mt-1",children:l.processingError})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(l.uploadedAt).toLocaleDateString(),l.uploadedBy&&r.jsx("div",{className:"text-xs text-gray-400",children:l.uploadedBy})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.processingStatus==="Failed"&&r.jsx("button",{onClick:()=>u(l.id),className:"text-blue-600 hover:text-blue-500",title:"Reprocess document",disabled:d,children:r.jsx(lt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>m(l.id),className:"text-red-600 hover:text-red-500",title:"Delete document",disabled:d,children:r.jsx(dt,{className:"h-4 w-4"})})]})})]},l.id))})]}),y.length===0&&r.jsx("div",{className:"text-center py-12 text-gray-500",children:e.length===0?"No documents uploaded yet":"No documents match your filters"})]})}),n&&r.jsx(en,{categories:t,onClose:()=>a(!1),onUpload:p})]})},sn=({categories:e,onRefresh:t})=>{const s=async a=>{if(window.confirm("Are you sure you want to delete this category?"))try{await F.deleteCategory(a),t()}catch{alert("Failed to delete category")}},n=async()=>{try{await F.seedCategories(),alert("Default categories added!"),t()}catch(a){console.error("Error:",a),alert("Failed to add categories")}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Category Management"}),r.jsxs("div",{className:"flex space-x-2",children:[e.length===0&&r.jsx("button",{onClick:n,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 inline-flex items-center",children:"Add Default Categories"}),r.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 inline-flex items-center",children:[r.jsx(ls,{className:"h-4 w-4 mr-2"}),"Add Category"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(a=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a.name}),r.jsx("button",{onClick:()=>s(a.id),className:"text-red-400 hover:text-red-600",children:r.jsx(dt,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:a.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:[a.documentCount," documents"]}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.isActive?"Active":"Inactive"})]})]},a.id)),e.length===0&&r.jsxs("div",{className:"col-span-3 text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"No categories yet"}),r.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-500",children:"Add default categories to get started"})]})]})]})},rn=()=>{const{logout:e}=Y(),t=me(),[s,n]=w.useState("overview"),[a,o]=w.useState(null),[i,d]=w.useState([]),[h,m]=w.useState([]),[u,p]=w.useState(!0);w.useEffect(()=>{y()},[]);const y=async()=>{p(!0);try{const[g,l,f]=await Promise.all([F.getDocumentStats(),F.getDocuments(),F.getCategories()]);o(g),d(l),m(f)}catch(g){console.error("Error loading data:",g)}p(!1)};return u?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(cs,{className:"h-8 w-8 animate-spin text-blue-600"})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(z,{to:"/chat",className:"text-gray-600 hover:text-gray-900 flex items-center",children:[r.jsx(ds,{className:"h-5 w-5 mr-1"}),"Back to Chat"]}),r.jsx("div",{className:"text-gray-300",children:"|"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(B,{className:"h-8 w-8 text-teal-600"}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"})]})]}),r.jsxs("button",{onClick:()=>{e(),t("/")},className:"text-red-600 hover:text-red-700 flex items-center px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-100",children:[r.jsx(it,{className:"h-4 w-4 mr-1"}),"Logout"]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("nav",{className:"flex space-x-4",children:[r.jsx("button",{onClick:()=>n("overview"),className:`px-4 py-2 rounded-md ${s==="overview"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"}`,children:"Overview"}),r.jsx("button",{onClick:()=>n("documents"),className:`px-4 py-2 rounded-md ${s==="documents"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"}`,children:"Documents"}),r.jsx("button",{onClick:()=>n("categories"),className:`px-4 py-2 rounded-md ${s==="categories"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"}`,children:"Categories"})]})}),s==="overview"&&a&&r.jsx(Zr,{stats:a,documents:i,onRefresh:y}),s==="documents"&&r.jsx(tn,{documents:i,categories:h,onRefresh:y}),s==="categories"&&r.jsx(sn,{categories:h,onRefresh:y})]})]})},nn=()=>r.jsx(gs,{children:r.jsx($t,{children:r.jsxs(Ht,{children:[r.jsx(G,{path:"/",element:r.jsx(ws,{})}),r.jsx(G,{path:"/login",element:r.jsx(Qr,{})}),r.jsx(G,{path:"/chat",element:r.jsx(ys,{children:r.jsx(Yr,{})})}),r.jsx(G,{path:"/admin/*",element:r.jsx(bs,{allowedRoles:["admin"],children:r.jsx(rn,{})})}),r.jsx(G,{path:"*",element:r.jsx(de,{to:"/",replace:!0})})]})})});Se.createRoot(document.getElementById("root")).render(r.jsx(zt.StrictMode,{children:r.jsx(nn,{})}));
//# sourceMappingURL=index-D-lo058w.js.map
